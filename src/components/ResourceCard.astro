---
/**
 * @component ResourceCard (æ ‡å‡†èµ„æºå¡ç‰‡)
 * @description èµ„æºå¯¼èˆªé¡µçš„åŸºç¡€ç –å—ã€‚ç”¨äºåœ¨ç›®å½•ç´¢å¼•é¡µæ ‡å‡†åŒ–åœ°å±•ç¤ºæ¯ä¸€ç¯‡æ–‡ç« /èµ„æºçš„ç¼©ç•¥å›¾ã€æ ‡é¢˜ã€æè¿°å’Œæ ‡ç­¾ã€‚
 * @tips è¿™æ˜¯ä¸€ä¸ªé«˜é¢‘è°ƒç”¨çš„ç»„ä»¶ï¼ˆä¸€ä¸ªé¡µé¢å¯èƒ½æ¸²æŸ“å‡ åä¸ªï¼‰ï¼Œè¯·ä¿æŒå†…éƒ¨ HTML ç»“æ„å°½é‡è½»é‡ï¼Œé¿å…å¤æ‚çš„åµŒå¥—ã€‚
 */

interface Props {
  title: string;
  description?: string;
  href: string;
  date?: string;
  tag?: string | string[];
  image?: string | null; // æ–°å¢ï¼šæ¥æ”¶å›¾ç‰‡å‚æ•°
}

const { title, description, href, date, tag, image } = Astro.props;
const tagsArray = Array.isArray(tag) ? tag : (tag ? [tag] : []);
---

{/* æ ¸å¿ƒå®¹å™¨ */}
<article class="group py-6 sm:py-8 border-b border-zinc-200 dark:border-zinc-800 last:border-0">
  
  {/* ğŸ‘‡ æ ¸å¿ƒä¿®å¤ 1ï¼šæŠŠ items-start æ¢æˆäº† items-stretchï¼Œå¼ºåˆ¶å·¦å³ä¸¤è¾¹ç­‰é«˜ */}
  <a href={href} class="flex flex-row gap-4 sm:gap-16 justify-between items-stretch !no-underline">
    
    {/* ğŸ‘‡ å·¦ä¾§æ–‡å­—åŒº */}
    <div class="flex flex-col flex-1 min-w-0">
      
      {/* 1. æ ‡é¢˜ï¼šåŠ äº† !mb-3 å’Œ !mb-4ï¼Œå¼ºåˆ¶æ‹‰å¼€åº•éƒ¨è·ç¦»ï¼ŒåŒæ—¶ç¡®ä¿ !mt-0 */}
      <h3 class="text-xl sm:text-2xl font-bold text-zinc-900 dark:text-zinc-100 !mb-1 sm:!mb-2 group-hover:text-[#C49753] dark:group-hover:text-[#e2c08d] transition-colors line-clamp-2 !mt-0 leading-snug">
        {title}
      </h3>
      
      {/* 2. ç®€ä»‹ï¼šåŠ äº† !mb-4 å’Œ !mb-6ï¼Œå¼ºåˆ¶éš”å¼€æ ‡ç­¾æ  */}
      {description && (
        <p class="text-sm sm:text-base text-zinc-500 dark:text-zinc-400 !mb-2 sm:!mb-2 line-clamp-2 leading-relaxed !mt-0">
          {description}
        </p>
      )}
      
      {/* 3. æ ‡ç­¾ï¼šä½¿ç”¨äº† !mt-auto å¼ºåˆ¶å°†å…¶æ¨è‡³å®¹å™¨æœ€åº•ç«¯ï¼Œå¹¶åŠ ä¸Š pt-2 ä¿è¯ä¿åº•é—´è· */}
      <div class="flex items-center gap-3 sm:gap-4 !mt-auto pt-2">
        {tagsArray.length > 0 && (
          <div class="flex flex-wrap gap-2">
            {tagsArray.map((t) => (
              <span class="inline-flex items-center px-2 py-0.5 rounded-full text-[11px] sm:text-xs font-medium bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400">
                {t}
              </span>
            ))}
          </div>
        )}
        {date && <span class="text-[11px] sm:text-xs text-zinc-400 dark:text-zinc-500">{date}</span>}
      </div>
      
    </div>

    {/* å³ä¾§å›¾ç‰‡åŒºï¼šä¿æŒ 16:9 å®½å¹…æ¯”ä¾‹ */}
    {image && (
      <div class="w-[120px] h-[67px] sm:w-[200px] sm:h-[112px] lg:w-[240px] lg:h-[135px] shrink-0 overflow-hidden rounded-md bg-zinc-50 dark:bg-zinc-800/50">
        <img 
          src={image} 
          alt={title} 
          class="w-full h-full object-cover transform transition-transform duration-500 group-hover:scale-105"
          loading="lazy"
        />
      </div>
    )}
    
  </a>
</article>